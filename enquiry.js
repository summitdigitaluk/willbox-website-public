"use strict";(()=>{function G(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var B=!1;typeof window!="undefined"&&(k={get passive(){B=!0}},window.addEventListener("testPassive",null,k),window.removeEventListener("testPassive",null,k));var k,b=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),f=[],x=!1,_=-1,y=void 0,u=void 0,h=void 0,F=function(e){return f.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},D=function(e){var t=e||window.event;return F(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},V=function(e){if(h===void 0){var t=!!e&&e.reserveScrollBarGap===!0,a=window.innerWidth-document.documentElement.clientWidth;if(t&&a>0){var n=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);h=document.body.style.paddingRight,document.body.style.paddingRight=n+a+"px"}}y===void 0&&(y=document.body.style.overflow,document.body.style.overflow="hidden")},W=function(){h!==void 0&&(document.body.style.paddingRight=h,h=void 0),y!==void 0&&(document.body.style.overflow=y,y=void 0)},Q=function(){return window.requestAnimationFrame(function(){if(u===void 0){u={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,a=e.scrollX,n=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-a,setTimeout(function(){return window.requestAnimationFrame(function(){var i=n-window.innerHeight;i&&t>=n&&(document.body.style.top=-(t+i))})},300)}})},X=function(){if(u!==void 0){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=u.position,document.body.style.top=u.top,document.body.style.left=u.left,window.scrollTo(t,e),u=void 0}},Z=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},z=function(e,t){var a=e.targetTouches[0].clientY-_;return F(e.target)?!1:t&&t.scrollTop===0&&a>0||Z(t)&&a<0?D(e):(e.stopPropagation(),!0)},O=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!f.some(function(n){return n.targetElement===e})){var a={targetElement:e,options:t||{}};f=[].concat(G(f),[a]),b?Q():V(t),b&&(e.ontouchstart=function(n){n.targetTouches.length===1&&(_=n.targetTouches[0].clientY)},e.ontouchmove=function(n){n.targetTouches.length===1&&z(n,e)},x||(document.addEventListener("touchmove",D,B?{passive:!1}:void 0),x=!0))}};var T=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}f=f.filter(function(t){return t.targetElement!==e}),b&&(e.ontouchstart=null,e.ontouchmove=null,x&&f.length===0&&(document.removeEventListener("touchmove",D,B?{passive:!1}:void 0),x=!1)),b?X():W()};var P=(r,e,t)=>{$(".select-wrapper--"+e).remove();var a=document.createElement("div");a.classList.add("select-wrapper","select-wrapper--"+e);var n=document.createElement("select");n.id=e,n.name=e,n.classList.add("form-select","w-select");for(let l=0;l<r.length;l++){var i=document.createElement("option");i.text=r[l],i.value=r[l],n.add(i)}var d=document.createElement("div");d.classList.add("select-icon"),$(a).prepend(n).append(d).insertAfter("#"+t)};var v=r=>!Array.isArray(r)||!r.length,N=r=>r instanceof Date&&Object.prototype.toString.call(r)==="[object Date]"&&!isNaN(r.getTime()),K=r=>(r<10&&(r="0"+r),r);var p=(r,e)=>{var t=new Date(r),a=t.getFullYear(),n=K(t.getMonth()+1),i=t.getDate();return e?a+"-"+n+"-"+i:a+""+n+i};var H=r=>{if(r==="complete-enquiry"){var e=JSON.parse(localStorage.getItem("enquiry")),t=0;for(let a=0;a<e.length;a++)t+=parseInt(e[a].qty);$('[data-enquiry="total"]').text(t),$('[data-enquiry="get-a-quote"]').attr("href","/complete-your-enquiry?reason=NewHireSalesQuote")}else $('[data-enquiry="get-a-quote"]').attr("href","/complete-your-enquiry");$('[data-enquiry="get-a-quote"] .'+r).show().siblings().hide()};var j=$(".modal").length<1;$(document).on("change","#billing",function(){var r=$(this).val().toLowerCase();r==="hire"?$("#date-picker").removeClass("hidden"):$("#date-picker").addClass("hidden"),$('[data-enquiry="add-to-enquiry"] .icon-check').length&&$('[data-enquiry="add-to-enquiry"]').html('<span class="button-text icon-add">Add to Enquiry</span>')});$('.increase[data-for="enquiry-ribbon"]').on("click",function(r){r.preventDefault();var e=$(this),t=e.parent(),a=t.siblings(".counter"),n=a.val();if(n>=1&&t.siblings(".interaction-button-wrapper").find(".decrease").prop("disabled",!1).removeAttr("disabled"),n<99){var i=+n+1;a.val(i).trigger("change")}});$('.decrease[data-for="enquiry-ribbon"]').on("click",function(r){r.preventDefault();var e=$(this),t=e.parent(),a=t.siblings(".counter"),n=a.val();if(n>1){n===2&&e.prop("disabled",!0).attr("disabled","");var i=+n-1;a.val(i).trigger("change")}});localStorage.getItem("enquiry")?C=JSON.parse(localStorage.getItem("enquiry")):(C=[],localStorage.setItem("enquiry",JSON.stringify(C)));var C;$(document).on("click",'[data-enquiry="add-to-enquiry-modal"]',function(r){r.preventDefault(),$("#variant-select").addClass("hidden"),$("#date-picker").addClass("hidden"),$('[data-enquiry="add-to-enquiry"] .icon-check').length&&$('[data-enquiry="add-to-enquiry"]').html('<span class="button-text icon-add">Add to Enquiry</span>');var e=$(this),t=e.closest(".content_card"),a=t.find(".product_singular_name")&&t.find(".product_singular_name").text()!==""?t.find(".product_singular_name").text():t.find(".content_card_title").text(),n=t.find('[data-node-type="commerce-add-to-cart-option-select"]').children(),i=t.find(".content_card-image").attr("src"),d=[];$.each(n,function(s){this.value!==""&&d.push(this.text)}),$('[data-enquiry="img"]').html(i),$('[data-enquiry="singular-name"]').html(a),v(d)===!1&&(P(d,"variant","variant-label"),$("#variant-select").removeClass("hidden")),$("#qty").val(1),$('.decrease[data-for="enquiry-ribbon"]').prop("disabled",!0).attr("disabled","");var l=[],o=t.find('[data-enquiry="billing"]');o.each(function(){l.push($(this).text())}),P(l,"billing","billing-label"),l[0]==="Hire"&&$("#date-picker").removeClass("hidden"),ee("add-to-enquiry")});function ee(r){if(document.getElementById(r)){var e=document.getElementById(r);O(e,{reserveScrollBarGap:!0}),e.scroll(0,0);var t=$("#"+r);t.removeClass("closed").addClass("opening").css("display","flex");let a=t.find(".modal-background");a.fadeIn(350),setTimeout(function(){t.removeClass("opening").addClass("open"),$(".loading").removeClass("loading"),a.on("click",function(){m(r)})},350)}}function m(r){if(document.getElementById(r)){var e=$("#"+r);e.removeClass("open").addClass("closing"),e.find(".modal-background").fadeOut(200),setTimeout(function(){e.removeClass("closing").hide().addClass("closed");var t=document.getElementById(r);T(t)},200)}}$(".close-modal").each(function(){$(this).on("click",function(r){r.preventDefault();var e=$(r.target).closest(".modal").attr("id");m(e)})});$(".add-to-enquiry .form-select, .add-to-enquiry .input.counter, .add-to-enquiry .calendar-field").each(function(){$(this).on("change",function(){$('[data-enquiry="add-to-enquiry"] .icon-check').length&&$('[data-enquiry="add-to-enquiry"]').html('<span class="button-text icon-add">Add to Enquiry</span>')})});$('[data-enquiry="add-to-enquiry"]').on("click",function(r){r.preventDefault();var e=!0,t=JSON.parse(localStorage.getItem("enquiry")),a="",n="",i="",d="",l="",o=[],s="";if(a=$('[data-enquiry="singular-name"]').length&&$('[data-enquiry="singular-name"]').text()!==""?$('[data-enquiry="singular-name"]').text():$('[data-enquiry="name"]').text(),n=$("#variant").length&&!$("#variant-select").hasClass("hidden")?$("#variant"):$('.product-sidebar [data-node-type="commerce-add-to-cart-option-select"]').length?$('[data-node-type="commerce-add-to-cart-option-select"]'):null,i=n!==null?i.id==="variant"?n.val():n.children('[value="'+n.val()+'"]').text():"n/a",d=$(".counter").val()>0?$(".counter").val():"1",l=$("#billing").val().toLowerCase(),s=j?$('[data-enquiry="img"]').eq(0).attr("src"):$('[data-enquiry="img"]').text(),o=N($("#hire-start").datepicker("getDate"))&&N($("#hire-end").datepicker("getDate"))?[$("#hire-start").datepicker("getDate"),$("#hire-end").datepicker("getDate")]:[],localStorage.setItem("selectedDates",JSON.stringify(o)),n!==null){if(i===""||i.indexOf("Select")>-1){e=!1,n.siblings(".form-error").length||$('<div class="form-error">Please select a product to add</div>').insertAfter(n),n.trigger("focus");return}n.siblings(".form-error").remove()}if(v(t)===!1){var w=!1;for(let S=0;S<t.length&&!w;S++)if(t[S].billing===l){var c=t[S];for(var A in c)if(c.hasOwnProperty(A)&&A==="id"){var Y=c[A],L;if(l==="hire"?L=o[0]&&o[1]?a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,"")+"startdate"+p(o[0])+"enddate"+p(o[1]):a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,"")+"noselecteddates":L=a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,""),Y===L)if(l==="hire"){var q=c.selectedDates;let R=v(q)===!1,M=v(q)===!0,U=v(o)===!1,J=v(o)===!0;if((R&&U||M&&J)&&(M&&J||q[0]===o[0].toISOString()&&q[1]===o[1].toISOString())){w=!0;var E=(parseInt(c.qty,10)+parseInt(d,10)).toString();c.qty=E,localStorage.setItem("enquiry",JSON.stringify(t)),m("add-to-enquiry"),I({name:a,img:s,variant:i})}}else{w=!0;var E=(parseInt(c.qty,10)+parseInt(d,10)).toString();c.qty=E,localStorage.setItem("enquiry",JSON.stringify(t)),m("add-to-enquiry"),I({name:a,img:s,variant:i})}}}if(!w){if(l==="hire")var g={billing:l,id:o[0]&&o[1]?a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,"")+"startdate"+p(o[0])+"enddate"+p(o[1]):a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,"")+"noselecteddates",name:a,img:s,variant:i,qty:d,selectedDates:o[0]&&o[1]?o:[]};else var g={billing:l,id:a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,""),name:a,img:s,variant:i,qty:d};t.push(g),localStorage.setItem("enquiry",JSON.stringify(t)),m("add-to-enquiry"),I({name:a,img:s,variant:i})}}else{if(l==="hire")var g={billing:l,id:o[0]&&o[1]?a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,"")+"startdate"+p(o[0])+"enddate"+p(o[1]):a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,"")+"noselecteddates",name:a,img:s,variant:i,qty:d,selectedDates:o[0]&&o[1]?o:[]};else var g={billing:l,id:a.toLowerCase().replace(/[^\w]/g,"")+i.toLowerCase().replace(/[^\w]/g,""),name:a,img:s,variant:i,qty:d};t.push(g),localStorage.setItem("enquiry",JSON.stringify(t)),m("add-to-enquiry"),I({name:a,img:s,variant:i})}$(this).html('<span class="button-text icon-check">Added</span>'),H("complete-enquiry")});function I(r){var e=$($("#product-added").eq(0).html()),t=e.find(".product-added-image"),a=e.find(".product-added-title"),n=r.variant!=="n/a"?r.variant+" "+r.name:r.name;a.html(n),t.attr("src",r.img),$("#complete-enquiry").append(e),setTimeout(function(){e.removeClass("hidden")},50),setTimeout(function(){e.addClass("hidden"),setTimeout(function(){e.remove()},350)},5e3)}$("#filter-fleet-list").on("click",function(r){r.preventDefault(),$("#filter-column").fadeIn(200);var e=document.querySelector("#filter-column");O(e),e.scroll(0,0)});$("#filter-column-close").on("click",function(r){r.preventDefault(),$("#filter-column").fadeOut(200),setTimeout(function(){var e=document.querySelector("#filter-column");T(e)},200)});})();
